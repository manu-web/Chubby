syntax = "proto3";

package paxos;

service Paxos {
    rpc Propose(PaxosProposeRequest) returns (PaxosProposeResponse);
    rpc Accept(PaxosAcceptRequest) returns (PaxosAcceptResponse);
}

message PaxosProposeRequest {
    uint64 proposal_id = 1;
}

message PaxosProposeResponse {
    uint64 higher_proposal = 1;
    string last_accepted_value = 2;
}

message PaxosAcceptRequest {
    uint64 proposal_id = 1;
    uint64 log_index = 2;
    string value = 3;
}

message PaxosAcceptResponse {
    bool is_accepted = 1;
}